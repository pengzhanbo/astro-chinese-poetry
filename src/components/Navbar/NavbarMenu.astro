---
import NavBarMenuGroup from './NavBarMenuGroup.astro'
import NavbarMenuLink from './NavbarMenuLink.astro'
import { navConfig } from '~/config/nav'
import type { BaseProps } from '~/types'

export interface Props extends BaseProps {}

const className = Astro.props['class:list'] || Astro.props.class
---

<nav
  class:list={['navbar-menu-wrapper', className]}
  aria-labelledby="main-nav-aria-label"
>
  <span id="main-nav-aria-label" class="visually-hidden">Main Navigation</span>
  {
    navConfig.map((item) =>
      'link' in item ? (
        <NavbarMenuLink item={item} />
      ) : (
        <NavBarMenuGroup item={item} />
      ),
    )
  }
</nav>

<style>
  .navbar-menu-wrapper {
    display: none;
  }

  @media (min-width: 768px) {
    .navbar-menu-wrapper {
      display: flex;
    }
  }
</style>
