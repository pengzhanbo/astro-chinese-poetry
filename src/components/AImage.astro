---
import type { BaseProps } from '~/types'

export interface Props extends BaseProps {
  src: string | { light?: string; dark?: string }
  alt?: string
}

const { alt } = Astro.props
const src = typeof Astro.props.src === 'string' ? Astro.props.src : undefined
const mode = typeof Astro.props.src === 'string' ? undefined : Astro.props.src
const className = Astro.props['class:list'] || Astro.props.class
---

{
  mode ? (
    <>
      <Astro.self class:list={['light', className]} src={mode.light} {alt} />
      <Astro.self class:list={['dark', className]} src={mode.dark} {alt} />
    </>
  ) : (
    src && <img {src} {alt} class:list={['a-image', className]} />
  )
}
